<!DOCTYPE html>
<html lang="en">

<head>
    <title>添加商品</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" href="../css/uniform.css" />
    <link rel="stylesheet" href="../css/select2.css" />
    <link rel="stylesheet" href="../css/matrix-style2.css" />
    <link rel="stylesheet" href="../css/matrix-media.css" />
    <link href="../font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800' rel='stylesheet' type='text/css'>
</head>

<body>

    <div id="content">
        <div id="content-header">
            <h1>添加商品</h1>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span12">
                    <div class="widget-box">
                        <div class="widget-title"> <span class="icon"> <i class="icon-info-sign"></i> </span>
                            <h5>添加商品</h5>
                        </div>
                        <div class="widget-content nopadding">
                            <form class="form-horizontal" method="post" action="#" name="basic_validate"
                                id="basic_validate" novalidate="novalidate">
                                <div class="control-group">
                                    <label class="control-label">商品名字</label>
                                    <div class="controls">
                                        <input type="text" name="required" id="gname">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">价格</label>
                                    <div class="controls">
                                        <input type="text" autocomplete="off" name="email" id="price">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">库存</label>
                                    <div class="controls">
                                        <input type="text" autocomplete="off" name="date" id="stock">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">图片路径</label>
                                    <div class="controls">
                                        <input type="text" name="required" id="picurl">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">作者</label>
                                    <div class="controls">
                                        <input type="text" name="required" id="author">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">出版社</label>
                                    <div class="controls">
                                        <input type="text" name="required" id="press">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">出版时间</label>
                                    <div class="controls">
                                        <input type="text" name="required" id="time">
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">简介</label>
                                    <div class="controls">
                                        <input type="text" name="required" id="intro">
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <input type="button" autocomplete="off" value="保存" class="btn btn-success">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../jquery-3.4.1.min.js"></script>

</body>
<script src="../common.js"></script>
<script>
    $(function () {
        $('.btn-success').click(function () {
            let gname = $('#gname').val().trim();
            let price = $('#price').val().trim();
            let stock = $('#stock').val().trim();
            let picurl = $('#picurl').val().trim();
            let press = $('#press').val().trim();
            let time = $('#time').val().trim();
            let intro = $('#intro').val().trim();
            let author = $('#author').val().trim();

            if (gname && price && stock && picurl && press && time && intro && author) {
                let confm = confirm('你确定要添加新用户吗')
                if (confm) {
                    $.ajax({
                        type: 'get',
                        url: '../api/goodsoperation.php',
                        data: {
                            gname: gname,
                            price: price,
                            stock: stock,
                            picurl : picurl,
                            press : press,
                            time : time,
                            intro : intro,
                            author : author,
                            mes: 'add'
                        },
                        success: str => {
                            console.log(str);
                            if (str == 'yes') {
                                alert('添加成功');
                                $('.controls input').val('');
                            }
                        }
                    })
                }
            }
        })
    })
</script>

</html>